!function t(e,n,r){function o(a,c){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return o(n||t)},f,f.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";!function(){var t=function(t){return void 0!==t},n=function(e){return t(e)&&(e instanceof String||"string"==typeof e)},r=function(e){return t(e)&&(e instanceof HTMLElement||e instanceof Window||e instanceof Document)};function o(t){if(!(this instanceof o))return new o(t);Object.defineProperty(this,"_dom",{value:r(t)?t:document.createElement("eh"),enumerable:!1}),Object.defineProperty(this,"_who",{value:t,enumerable:!1}),Object.defineProperty(this,"_events",{value:Object.create(null),enumerable:!1})}o.on=function(t,e,n){if(t instanceof o)return t.on(e,n),o;if(!r(t))throw new Error("Invalid element",t);return t._eventHandler=(t._eventHandler||new o(t)).on(e,n),o},o.off=function(t,e){if(t instanceof o)return t.on(e,func),o;if(!r(t))throw new Error("Invalid element",t);return t._eventHandler=(t._eventHandler||new o(t)).off(e),o},o.trigger=function(t,e,n){if(t instanceof o)return t.on(e,func),o;if(!r(t))throw new Error("Invalid element",t);return t._eventHandler=(t._eventHandler||new o(t)).trigger(e,n),o},o.prototype.on=function(e,r){var o=this;if(!n(e))throw new Error("Invalid types: ",e);if(0===e.length)throw new Error("Illegal types");if(!(t(i=r)&&i instanceof Function))throw new Error("Invalid function: ",r);var i;return r=r.bind(this._who),e.split(" ").forEach(function(t){o._dom.addEventListener(t.replace(/\..*$/,""),r),o._events[t]=o._events[t]||[],o._events[t].push(r)}),this},o.prototype.off=function(t){var e=this;if(!n(t))throw new Error("Invalid types: ",t);if(0===t.length)throw new Error("Illegal types");return t.split(" ").forEach(function(t){var n=t.replace(/\..*$/,"");(e._events[t]||[]).forEach(function(t){return e._dom.removeEventListener(n,t)}),delete(e._events||{})[t]}),this},o.prototype.trigger=function(t,e){var r=this;if(!n(t))throw new Error("Invalid types: ",t);if(0===t.length)throw new Error("Illegal types");t.split(" ").forEach(function(t){if(t.replace(/^.*\.?/,""))(r._events[t]||[]).forEach(function(t){return t({detail:e})});else if(window.CustomEvent)r._dom.dispatchEvent(new CustomEvent(t,{detail:e}));else{var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,e),r._dom.dispatchEvent(n)}})},e.exports=o,self&&self instanceof Object&&self.self===self&&(self.EventHandler=o)}()},{}],2:[function(t,e,n){"use strict";!function(){var n=["topToBottom","rightToLeft","bottomToTop","leftToRight"],r=["topToTop","rightToRight","bottomToBottom","leftToLeft"],o=["xCenter","yCenter"],i="unattracted",a="magnetleave",c=["mousedown","touchstart"],l=["mousemove","touchmove"],u=["mouseup","mouseleave","touchend"],f="keydown",s="keyup",h=t("./lib/event-handler"),p=function(t){return void 0!==t},m=function(t){return p(t)&&!isNaN(t.top)&&!isNaN(t.right)&&!isNaN(t.bottom)&&!isNaN(t.left)&&t.top<t.bottom&&t.left<t.right&&(!p(t.x)||t.x===t.left)&&(!p(t.y)||t.y===t.top)&&(!p(t.width)||t.width===t.right-t.left)&&(!p(t.height)||t.height===t.bottom-t.top)},d=function(t){return p(t)&&(t instanceof HTMLElement||t instanceof Document||t instanceof Window)},g=function(t){return p(t)&&p(t.length)},b=function(t){return Object.keys(t)},v=function(t,e,n){return b(t).forEach(function(r){return e.call(n,t[r],r,t)})},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"magnet";return(g(t)?t:t.split(" ")).map(function(t){return t+(e?"."+e:"")}).join(" ")},w=function(t){return{x:(t=(t.touches||{})[0]||t).clientX,y:t.clientY}},E=function(t){return t.currentStyle||getComputedStyle(t)},_=function(t){return new function(t){var e=this,n=function(t){if(d(t)){var e=null,n=(r=E(t),{top:parseFloat(r.borderTopWidth),right:parseFloat(r.borderRightWidth),bottom:parseFloat(r.borderBottomWidth),left:parseFloat(r.borderLeftWidth)});return(e=t instanceof HTMLElement?{top:(e=t.getBoundingClientRect()).top,right:e.right,bottom:e.bottom,left:e.left}:{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}).top+=n.top,e.right-=n.right,e.bottom-=n.bottom,e.left+=n.left,e}if(m(t))return{top:t.top,right:t.right,bottom:t.bottom,left:t.left};throw new Error("Could NOT get rectangle");var r}(t);["top","right","bottom","left"].forEach(function(t){return Object.defineProperty(e,t,{value:n[t]})}),Object.defineProperty(this,"x",{value:this.left}),Object.defineProperty(this,"y",{value:this.top}),Object.defineProperty(this,"width",{value:this.right-this.left}),Object.defineProperty(this,"height",{value:this.bottom-this.top})}(t)},T=function t(){var e=[],n=function(t){-1===e.indexOf(t)&&e.push(t)};return Array.prototype.forEach.call(arguments,function(e){if(g(e))Array.prototype.forEach.call(e,function(e){(e=g(e)?t(e):[e]).forEach(function(t){if(!d(t))throw new Error("Invalid element");n(t)})});else{if(!d(e))throw new Error("Invalid element");n(e)}}),e},O=function(t){for(var e=t.parentElement;e;){if("static"!==E(e).position)return e;e=e.parentElement}return e||document};function x(t,e){var n=this;Object.defineProperty(this,"source",{value:Object.create(null),enumerable:!1}),Object.defineProperty(this,"target",{value:Object.create(null),enumerable:!1}),d(t)&&(this.source.element=t),d(e)&&(this.target.element=e),this.source.rect=t=_(t),this.target.rect=e=_(e),this.topToTop=Math.abs(t.top-e.top),this.topToBottom=Math.abs(t.top-e.bottom),this.rightToRight=Math.abs(t.right-e.right),this.rightToLeft=Math.abs(t.right-e.left),this.bottomToTop=Math.abs(t.bottom-e.top),this.bottomToBottom=Math.abs(t.bottom-e.bottom),this.leftToRight=Math.abs(t.left-e.right),this.leftToLeft=Math.abs(t.left-e.left),this.xCenter=Math.abs(.5*(t.right+t.left-e.right-e.left)),this.yCenter=Math.abs(.5*(t.top+t.bottom-e.top-e.bottom)),Object.defineProperty(this,"ranking",{value:b(this).sort(function(t,e){return n[t]-n[e]}),enumerable:!1}),Object.defineProperty(this,"min",{value:this.ranking[0],enumerable:!1}),Object.defineProperty(this,"max",{value:this.ranking[this.ranking.length-1],enumerable:!1})}function j(){Object.defineProperty(this,"_distance",{value:0,enumerable:!1,writable:!0}),Object.defineProperty(this,"_stayInParentElem",{value:!1,enumerable:!1,writable:!0}),Object.defineProperty(this,"_enabledAlignOuter",{value:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"_enabledAlignInner",{value:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"_enabledAlignCenter",{value:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"_targets",{value:[],enumerable:!1,writable:!0}),Object.defineProperty(this,"_event",{value:new h(this),enumerable:!1}),arguments.length&&this.add.apply(this,arguments)}j.prototype.distance=function(t){if(!p(t))return this._distance;if(isNaN(t))throw new Error("Invalid distance");if(t<0)throw new Error("Illegal distance");return this._distance=t,this},j.prototype.stayInParentElem=function(t){return p(t)?(this._stayInParentElem=!!t,this):this._stayInParentElem},["enabledAlignOuter","enabledAlignInner","enabledAlignCenter"].forEach(function(t){j.prototype[t]=function(e){return p(e)?(this["_"+t]=!!e,this):this["_"+t]}}),j.prototype.on=function(){return this._event.on.apply(this._event,arguments),this},j.prototype.off=function(){return this._event.off.apply(this._event,arguments),this},j.prototype.add=function(){var t=this,e=T(this._targets,arguments);return[window,document,document.body].forEach(function(t){if(-1!==e.indexOf(t))throw new Error("Illegal element")}),this.clear(),e.forEach(function(p,m){var d=e.concat(),g=!0;d.splice(m,1),h.on(p,y(c),function(e){var c=_(p),m=w(e),b=m.x,v=m.y,E=!1,T=e,x=null,P=null,I=_(O(p)),C=_(p.parentElement||p),M=[].concat(t._enabledAlignOuter?n:[],t._enabledAlignInner?r:[],t._enabledAlignCenter?o:[]),L=function(e){T=e;var n=w(e),r=n.x-b,o=n.y-v,l=c.x+r,u=c.y+o,f=e.ctrlKey?0:t._distance,s=null,m=null,g=e.ctrlKey?{}:j.nearby(_({top:u,right:l+c.width,bottom:u+c.height,left:l}),d)||{};(g.ranking||[]).reverse().forEach(function(e){if(-1===M.indexOf(e))g.ranking.splice(g.ranking.indexOf(e),1),delete g[e];else if(g[e][e]<=f){var n=g[e].target,r=n.rect,o=function(){return{type:e,element:n.element,rect:r}},i=function(e){(!t._stayInParentElem||e+c.width<=C.right)&&(l=e,s=o())},a=function(e){(!t._stayInParentElem||e+c.height<=C.bottom)&&(u=e,m=o())};switch(e){case"topToTop":return a(r.top);case"topToBottom":return a(r.bottom);case"rightToRight":return i(r.right-c.width);case"rightToLeft":return i(r.left-c.width);case"bottomToTop":return a(r.top-c.height);case"bottomToBottom":return a(r.bottom-c.height);case"leftToRight":return i(r.right);case"leftToLeft":return i(r.left);case"xCenter":return i((r.right+r.left-c.width)/2);case"yCenter":return a((r.top+r.bottom-c.height)/2)}}}),[s,m].forEach(function(t){if(t){var e=t.rect;switch(t.type){case"topToTop":case"bottomToTop":return t.position=e.top;case"topToBottom":case"bottomToBottom":return t.position=e.bottom;case"rightToRight":case"leftToRight":return t.position=e.right;case"rightToLeft":case"leftToLeft":return t.position=e.left;case"xCenter":return t.position=(e.right+e.left)/2;case"yCenter":return t.position=(e.top+e.bottom)/2}}});var y=!(!s&&!m),O=!1,L=!1,N=!1,A=!1,R=[],k=[],H=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e.element)return;t.push(e.element)};e.ctrlKey?(E&&(L=!0,x&&H(k,x),P&&H(k,P),A=!0),E=!1):y!==E?y?(O=!0,s&&H(R,s),m&&H(R,m),N=!0):(L=!0,x&&H(k,x),P&&H(k,P),A=!0):y&&([{curr:s,last:x},{curr:m,last:P}].forEach(function(t){var e=t.curr,n=t.last;e&&!n?H(R,e):!e&&n?H(k,n):e&&n&&(e.element!==n.element?(H(R,e),H(k,n)):e.type!==n.type&&H(R,e))}),(R.length||k.length)&&(O=!0,N=!0)),R.forEach(function(t){return h.trigger(t,"attracted",p)}),k.forEach(function(t){return h.trigger(t,i,p)}),O&&h.trigger(p,"attract",{x:s,y:m}),L&&h.trigger(p,"unattract",{x:x,y:P}),N&&t._event.trigger("magnetenter",{source:p,nearby:g,x:s,y:m}),A&&t._event.trigger(a,{source:p,nearby:g,x:x,y:P}),x=s,P=m,E=y,t._stayInParentElem&&(l=Math.max(C.left,Math.min(C.right-c.width,l)),u=Math.max(C.top,Math.min(C.bottom-c.height,u))),p.style.top=u-I.top+"px",p.style.left=l-I.left+"px"};h.off(document.body,y([].concat(l,u,f,s))),h.on(document.body,y([].concat(f,s)),function(t){g!==!t.ctrlKey&&(L({clientX:T.clientX,clientY:T.clientY,ctrlKey:t.ctrlKey}),g=!t.ctrlKey)}).on(document.body,y([].concat(u)),function(){x&&h.trigger(x.element,i),P&&h.trigger(P.element,i),h.trigger(p,"unattract"),t._event.trigger(a,{source:p}),h.off(document.body,y([].concat(l,u,f,s)))}).on(document.body,y(l),L)});var b=_(O(p)),v=_(p);p.style.position="absolute",p.style.top=v.top-b.top+"px",p.style.left=v.left-b.left+"px"}),this._targets=e,this},j.prototype.remove=function(){var t=this,e=T(arguments).map(function(e){return t._targets.indexOf(e)}).filter(function(t){return-1!==t}).sort(function(t,e){return e-t});if(e.length){var n=this._targets.concat();e.forEach(function(t){return n.splice(t,1)}),this.clear().add(n)}return this},j.prototype.clear=function(){return this._targets.forEach(function(t){return h.off(t,y(c))}),this._targets=[],h.off(document.body,y([].concat(l,u,f,s))),this},j.prototype.nearby=function(t){return j.nearby(t,this._targets)},j.isRect=function(t){return m(t)},j.stdRect=function(t){return _(t)},j.measure=function(t,e){return new x(t,e)},j.nearby=function(t,e){return new function(t){var e=this,n=T(Array.prototype.slice.call(arguments,1)),r=void 0,o=void 0;Object.defineProperty(this,"source",{value:Object.create(null),enumerable:!1}),d(t)&&(this.source.element=t),this.source.rect=t=_(t),n.forEach(function(n){var i=new x(t,n);v(i,function(t,n){(!e[n]||i[n]<e[n][n])&&(e[n]=i)}),(!p(r)||i[i.min]<e[r].min)&&(r=i.min),(!p(o)||e[o].max<i[i.max])&&(o=i.max)}),Object.defineProperty(this,"min",{value:r,enumerable:!1}),Object.defineProperty(this,"max",{value:o,enumerable:!1}),Object.defineProperty(this,"ranking",{value:b(this).sort(function(t,n){return e[n][n]-e[t][t]}),enumerable:!1})}(t,e)},e.exports=j,self&&self instanceof Object&&self.self===self&&(self.Magnet=j)}()},{"./lib/event-handler":1}]},{},[2]);
